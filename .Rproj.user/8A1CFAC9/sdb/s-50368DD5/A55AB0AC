{
    "contents" : "admissions_data<-read.csv(\"~/AProject/admissions_data.csv\")\n\nhead(admissions_data)\n\n#use tbl_df() to create a local data frame hence converting it to a local data frame\n#we first load the plyrand dplyr packages then execute the commands\nlibrary(plyr)\nlibrary(dplyr)\n\nadmissions<-tbl_df(admissions_data)\n\n##in order to see more rows we do the following\n#print(admissions,n=1000)\n\n#grouping the data according to age groups basing with the date of birth \nselect(admissions,date_of_birth)\n\n#I changed the date format of the date of birth using the as.Date() introducd a new\n#column\"date_of_birth2\"\nadmissions$date_of_birth2<- as.Date(admissions$date_of_birth,format = '%d/%m/%Y')\n\nclass(admissions$date_of_birth2)\n\n#changing the date format of the date_admn\nadmissions$date_admn <- as.Date(admissions$date_admn,format = '%d/%m/%Y')\n\nclass(admissions$date_admn)\n\n#obtain the age by obtaining the difference between date of admissions and date of birth\n#divide by 365.25 to obtain the years\nadmissions$age_yrs <- as.integer((admissions$date_admn- admissions$date_of_birth2)/365.25)\n\nadmissions$age_cat[admissions$age_yrs<1] <-0\n\nadmissions$age_cat[admissions$age_yrs>=1 & admissions$age_yrs<=5] <-1\n\nadmissions$age_cat[admissions$age_yrs>=6 & admissions$age_yrs<=10] <-2\n\nadmissions$age_cat[admissions$age_yrs>=11 & admissions$age_yrs<=15] <-3 \n\nadmissions$age_cat[admissions$age_yrs>=16 & admissions$age_yrs<=20] <-4 \n\n#ordering the age_cat column\nadmissions$age_cat<-factor(admissions$age_cat,labels=c(\"Under 1yr\",\"1-5yrs\",\"6-10yrs\",\"11-15yrs\",\n                                                       \"16-20yrs\"),ordered=TRUE)\n\ntable(admissions$age_cat)\n\n#summary of the age_yrs\n\nadmissions<-subset(admissions,!is.na(age_yrs))\n\nsummary(admissions$age_yrs)\n\nvar(admissions$age_yrs)#variance\n\nsd(admissions$age_yrs)#standard deviation\n                            \n#extract the months from the date the patient was admitted between 2002 and 2015 by creating\n#a new column(mnth1)\nlibrary(lubridate)\n\nadmissions$mnth1 <- month(admissions$date_admn)\n\n#ordering and labling the months\nadmissions$mnth1<-factor(admissions$mnth1,labels=c(\"Jan\",\"Feb\",\"Mar\",\"Apr\", \"May\",\"Jun\",\n                                                  \"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"),ordered=TRUE)\n\n##making the summary on the age category and monthly admissions\n# GENERAL admissions and count for all the months through out the year\ntable(admissions$mnth1)\n\nlibrary(ggplot2)\n\na<-ggplot(admissions, aes(factor(mnth1)))\na<-a +geom_bar()\na<-a + geom_bar(fill=\"blue\", colour=\"pink\")\na<-a+labs(x=\"MONTHS\",y=\"ADMISSIONS COUNT\")\na<-a+ggtitle(\"GENERAL MONTHLY ADMISSIONS\")\na<-a+theme_grey()\na<-a+coord_flip()\na\n\n#summary of the age category and monthly admissions(GENERAL)\ntable(admissions$age_cat)\n\nc<-ggplot(admissions[!is.na(admissions$age_cat),],aes(factor(age_cat)))\nc<-c+geom_bar()\nc<-c+geom_bar(fill=\"limegreen\",colour=\"blue\")\nc<-c+labs(x=\"AGE GROUP\",y=\"ADMISSIONS COUNT\")\nc<-c+ggtitle(\"Admissions according to Age Group\")\nc\n\n#To obtain the tables of the monthly admissions count and the age groups\n# using a for loop control structure.\nadmissions$k <-month(admissions$date_admn)\n\nfor (i in 1:12) {\n  \n  print(table(admissions$age_cat[admissions$k==i]))\n  \n  mnth1<-month.name[i]\n  title<- paste(mnth1,\"Admission\")\n  \n  c5<-ggplot(admissions[admissions$k==i &!is.na(admissions$age_cat),],aes(factor(age_cat))) \n  c5<-c5+geom_bar()\n  c5<-c5+geom_bar(fill=\"brown\",colour=\"yellow\")\n  c5<-c5+labs(x=\"AGE GROUP\",y=\"ADMISSIONS COUNT\")\n  c5<-c5+ggtitle(title)\n  c5<-c5+theme_bw()\n  print(c5)\n}\n",
    "created" : 1437975125199.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "19758650",
    "id" : "A55AB0AC",
    "lastKnownWriteTime" : 1437563214,
    "path" : "~/AProject/codes/project.R",
    "project_path" : "codes/project.R",
    "properties" : {
        "tempName" : "Untitled2"
    },
    "source_on_save" : false,
    "type" : "r_source"
}